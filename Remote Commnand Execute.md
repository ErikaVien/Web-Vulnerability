## Remote Code Execute (RCE) 远程代码执行 
- also **Remote Command Execute (RCE) 远程命令执行** or **Command Injection**

**RCE** - 程序留了接口，外部可使用
- 远程代码执行漏洞（RCE，也叫任意代码执行），是由用户通过浏览器提交执行命令，由于服务器端没有针对执行函数做过滤，导致执行了服务器的命令。 RCE漏洞的造成方式有很多种，一旦可以执行任意命令，就可以执行任意操作，属于高危漏洞

案件：Atlassian Confluence

**_“方便永远是安全的敌人”_**

### RCE危害：
- 获取服务器权限： 可执行系统命令，shell反弹，读写文件等
- 获取敏感数据文件： 如用户数据，交易数据
- 写入恶意文件getshell
- 植入木马病毒勒索软件等

### RCE防御：
- 开源框架，升级新版本
- 尽量不使用命令执行的函数
- 如要使用函数，需使用白名单处理
- 用正则表达式对用户输入内容进行处理
- 使用WAF

DVWA改代码可支持中文 ： dvwaPage.ini.php 找header,content-type,charset:GBK

### RCE渗透：linux command
- 有过滤空格: 可使用其它代替空格，列如：${IFS},etc
- 有过滤目录”根“符号: 可使用cd file;cat file.txt
- 有过滤运算符 : 代替符号
- 有综合过滤: cat代替more, flag可代替f***, ; 代替%0a ，空行 %0d
列如：127.0.0.1%0acd${IFS}file%0amore${IFS}f***.738691.php

reference: wuya, mashibing
